
django-admin startproject simplesite

cd simplesite

#test site
python manage.py runserver
#if we want to allow remote connections:
#python manage.py runserver 0.0.0.0:8000

#browser: http://127.0.0.1:8000/
#it works

#polls app
python manage.py startapp polls

#insert into polls/view.py:
#######################
from django.http import HttpResponse


def index(request):
    return HttpResponse("Hello, world. You're at the polls index.")
#######################

#create polls/urls.py with following content:
#######################
from django.conf.urls import url

from . import views

urlpatterns = [
    url(r'^$', views.index, name='index'),
]
#######################

# modify simplesite/urls.py:
# add import include
# add polls
#######################
from django.conf.urls import include, url
from django.contrib import admin

urlpatterns = [
    url(r'^polls/', include('polls.urls')),
    url(r'^admin/', admin.site.urls),
]
#######################

python manage.py runserver
# check browser: http://127.0.0.1:8000/
# it works

python manage.py migrate

# put into polls/models.py
#######################
class Question(models.Model):
    question_text = models.CharField(max_length=200)
    pub_date = models.DateTimeField('date published')


class Choice(models.Model):
    question = models.ForeignKey(Question, on_delete=models.CASCADE)
    choice_text = models.CharField(max_length=200)
    votes = models.IntegerField(default=0)
#######################

# put into simplesite/settings.py INSTALLED_APPS:
    'polls.apps.PollsConfig',

python manage.py makemigrations polls

python manage.py sqlmigrate polls 0001

python manage.py migrate


# to polls/models.py:
import datetime
from django.utils import timezone

# to class Question:

    def was_published_recently(self):
        return self.pub_date >= timezone.now() - datetime.timedelta(days=1)


# create admin user:
python manage.py createsuperuser


# to polls/admin.py :
from .models import Question

admin.site.register(Question)



